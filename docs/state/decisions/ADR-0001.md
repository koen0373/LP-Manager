# ADR-0001 — Modular State Docs & Rotation

- **Status:** Accepted
- **Date:** 2025-11-10
- **Owners:** Koen, Codex
- **Tags:** ops, docs, reliability

## Context
`PROJECT_STATE.md` ballooned past 1,100 lines and was acting as a dumping ground for architecture, ops notes, and daily changelog entries. Contributors avoided editing it because merge conflicts were constant and CI diffs were noisy. Railway deploy reviews also flagged the file for exceeding the target 25 KB size.

## Decision
Move the in-depth content (architecture, hosting, backlog, and historical changelog) into `docs/state/*` and leave `PROJECT_STATE.md` as a lightweight snapshot (overview bullets, top open actions, and today’s changelog). Add an automated rotation script so older entries are archived into `docs/state/changelog/YYYY-MM.md` before the file crosses the size limit.

## Consequences
- ✅ Easier reviews: snapshot stays under 300 lines, while deep dives live in focused files.
- ✅ CI + git history become more legible because churn happens in scoped docs.
- ⚠️ Requires a small workflow change—contributors must touch both `docs/state/*` and `PROJECT_STATE.md` when updating state.
- ⚠️ Rotation script must run in CI or before deploys; otherwise, the snapshot may drift again.

## Alternatives Considered
1. **Keep everything in PROJECT_STATE.md** — rejected; size and merge issues persist.
2. **Move state docs to Notion** — rejected; breaks repo-as-source-of-truth and violates offline requirements.
3. **Archive weekly PDF snapshots** — rejected; not searchable and still requires manual pruning.
